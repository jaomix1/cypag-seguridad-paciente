<div class="row" style="margin-bottom: 10px; margin-top: 10px;">
    <div class="col">
        <h2><b>Seguimientos</b></h2>
    </div>
    <div class="col">
        <button mat-raised-button color="primary" (click)="newFollow()" [disabled]="porcentajeMejora!=0">Nuevo
            seguimiento</button>
    </div>
</div>
<ng-container *ngIf="loading">
    <p style="margin-top: 20px; margin-left: 20px;">Cargando...</p>
</ng-container>
<ng-container *ngIf="!loading">
    <div class="mat-elevation-z8">
        <ng-container *ngIf="datos.length <=0">
            <p class="center" style="padding: 5px;"><b>'No tiene seguimientos esta acción'</b></p>
        </ng-container>
        <ng-container *ngIf="datos.length >0">
            <p class="" style="padding: 5px;"><b>Tiene {{datos.length}} seguimientos</b></p>

            <table mat-table class="full-width-table" [dataSource]="datos" matSort aria-label="Elements">
                <ng-container matColumnDef="Id">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
                    <td mat-cell *matCellDef="let row">{{row.Id}}</td>
                </ng-container>
                <ng-container matColumnDef="Descripcion_Seguimiento">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Descripción</th>
                    <td mat-cell *matCellDef="let row">{{row.Descripcion}}</td>
                </ng-container>
                <ng-container matColumnDef="Usuario">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Responsable</th>
                    <td mat-cell *matCellDef="let row">{{row.UsuarioCreacion}}</td>
                </ng-container>
                <ng-container matColumnDef="Evidencia">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Evidencia Cargada</th>
                    <td mat-cell *matCellDef="let row">{{row.Evidencia ? 'SI' : 'NO'}}</td>
                </ng-container>
                <ng-container matColumnDef="Fecha">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha Creación</th>
                    <td mat-cell *matCellDef="let row">{{row.FechaCreacion | date:'dd/mm/yyyy'}}</td>
                </ng-container>
                <ng-container matColumnDef="Descargar">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Descargar</th>
                    <td mat-cell *matCellDef="let row">
                        <button (click)="downloadImage(row.Id)" *ngIf="row.Evidencia"> Ver evidencias </button>
                    </td>
                    <tr mat-header-row *matHeaderRowDef="columns"></tr>
                    <tr mat-row *matRowDef="let row; columns: columns;"></tr>
                </ng-container>
            </table>
            <!-- <mat-paginator #paginator [length]="datos?.data?.length" [pageIndex]="0" [pageSize]="10"
                [pageSizeOptions]="[5, 10, 20]" aria-label="Select page">
            </mat-paginator> -->
        </ng-container>
    </div>
</ng-container>


<div mat-dialog-actions>
    <button mat-raised-button mat-dialog-close color="warn">Cerrar</button>
</div>