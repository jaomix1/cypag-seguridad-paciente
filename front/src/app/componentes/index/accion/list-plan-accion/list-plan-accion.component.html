<div class="row" style="margin-bottom: 10px; margin-top: 10px;">
  <div class="col">
    <h2><b>Acciones del plan</b></h2>
  </div>
  <div class="col">
    <button mat-raised-button color="primary" (click)="newAccion()">Nueva acción</button>
  </div>
</div>
<ng-container *ngIf="loading">
  <p style="margin-top: 20px; margin-left: 20px;">Cargando...</p>
</ng-container>
<ng-container *ngIf="!loading">
  <div class="mat-elevation-z8">
    <ng-container *ngIf="datos.length <=0">
      <p class="center" style="padding: 5px;"><b>'No tiene acciónes en este plan'</b></p>
    </ng-container>
    <ng-container *ngIf="datos.length >0">
      <p class="" style="padding: 5px;"><b>Tiene {{datos.length}} planes de accón</b></p>

      <table mat-table class="full-width-table" [dataSource]="datos" matSort aria-label="Elements">
        <ng-container matColumnDef="Descripcion">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Descripcion</th>
          <td mat-cell *matCellDef="let row">{{row.Descripcion}}</td>
        </ng-container>
        <ng-container matColumnDef="Responsable">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Responsable</th>
          <td mat-cell *matCellDef="let row">{{row.Responsable}}</td>
        </ng-container>
        <ng-container matColumnDef="Estado">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha de vencimiento</th>
          <td mat-cell *matCellDef="let row">{{row.FechaVencimiento | date:'yyyy-MM-dd'}}</td>
        </ng-container>
        <ng-container matColumnDef="Porcentaje">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Porcentaje</th>
          <td mat-cell *matCellDef="let row">{{row.PorcentajeMejora}}%</td>
        </ng-container>
        <ng-container matColumnDef="acciones">
          <th mat-header-cell *matHeaderCellDef> Acciones </th>
          <td mat-cell *matCellDef="let row">
            <button mat-raised-button class="bg-primary my-2" (click)="listSeguimientos(row.Id)">Ver
              Seguimiento</button>
            <!-- <button mat-raised-button color="primary" (click)="editPlan(row.Id ,row.PorcentajeMejora)">Editar
              Plan</button> -->
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="columns"></tr>
        <tr mat-row *matRowDef="let row; columns: columns;"></tr>
      </table>
      <!-- <mat-paginator #paginator [length]="datos?.data?.length" [pageIndex]="0" [pageSize]="10"
        [pageSizeOptions]="[5, 10, 20]" aria-label="Select page">
      </mat-paginator> -->
    </ng-container>
  </div>
</ng-container>
<div mat-dialog-actions>
  <button mat-raised-button mat-dialog-close color="warn">Cerrar</button>
</div>